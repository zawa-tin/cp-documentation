---
data:
  _extendedDependsOn:
  - icon: ':heavy_check_mark:'
    path: Src/Number/BinomalCoefficients.hpp
    title: "\u4E8C\u9805\u4FC2\u6570(\u7D20\u6570mod)"
  - icon: ':heavy_check_mark:'
    path: Src/Template/IOSetting.hpp
    title: "io\u307E\u308F\u308A\u306E\u8A2D\u5B9A"
  - icon: ':heavy_check_mark:'
    path: Src/Template/TypeAlias.hpp
    title: "\u6A19\u6E96\u30C7\u30FC\u30BF\u578B\u306E\u30A8\u30A4\u30EA\u30A2\u30B9"
  - icon: ':heavy_check_mark:'
    path: ac-library/atcoder/internal_math.hpp
    title: ac-library/atcoder/internal_math.hpp
  - icon: ':heavy_check_mark:'
    path: ac-library/atcoder/internal_type_traits.hpp
    title: ac-library/atcoder/internal_type_traits.hpp
  - icon: ':heavy_check_mark:'
    path: ac-library/atcoder/modint.hpp
    title: ac-library/atcoder/modint.hpp
  _extendedRequiredBy: []
  _extendedVerifiedWith: []
  _isVerificationFailed: false
  _pathExtension: cpp
  _verificationStatusIcon: ':heavy_check_mark:'
  attributes:
    '*NOT_SPECIAL_COMMENTS*': ''
    PROBLEM: https://onlinejudge.u-aizu.ac.jp/courses/lesson/2/ITP1/1/ITP1_1_A
    links:
    - https://onlinejudge.u-aizu.ac.jp/courses/lesson/2/ITP1/1/ITP1_1_A
    - https://yukicoder.me/submissions/957921
  bundledCode: "#line 1 \"Test/yukicoder/117.test.cpp\"\n#define PROBLEM \"https://onlinejudge.u-aizu.ac.jp/courses/lesson/2/ITP1/1/ITP1_1_A\"\
    \n\n#line 2 \"Src/Template/IOSetting.hpp\"\n\n#line 2 \"Src/Template/TypeAlias.hpp\"\
    \n\n#include <cstdint>\n#include <cstddef>\n\nnamespace zawa {\n\nusing i16 =\
    \ std::int16_t;\nusing i32 = std::int32_t;\nusing i64 = std::int64_t;\nusing i128\
    \ = __int128_t;\n\nusing u8 = std::uint8_t;\nusing u16 = std::uint16_t;\nusing\
    \ u32 = std::uint32_t;\nusing u64 = std::uint64_t;\n\nusing usize = std::size_t;\n\
    \n} // namespace zawa\n#line 4 \"Src/Template/IOSetting.hpp\"\n\n#include <iostream>\n\
    #include <iomanip>\n\nnamespace zawa {\n\nvoid SetFastIO() {\n    std::cin.tie(nullptr)->sync_with_stdio(false);\n\
    }\n\nvoid SetPrecision(u32 dig) {\n    std::cout << std::fixed << std::setprecision(dig);\n\
    }\n\n} // namespace zawa\n#line 2 \"Src/Number/BinomalCoefficients.hpp\"\n\n#line\
    \ 4 \"Src/Number/BinomalCoefficients.hpp\"\n\n#include <cassert>\n#include <cmath>\n\
    #include <vector>\n#include <atcoder/internal_math>\n#include <atcoder/modint>\n\
    \nnamespace zawa {\n\ntemplate <u32 MOD>\nclass BinomalCoefficients {\npublic:\n\
    \    using Value = atcoder::static_modint<MOD>;\n    static_assert(atcoder::internal::is_prime_constexpr(MOD));\n\
    private:\n    usize n_{};\n    std::vector<Value> F_{}, inv_{}, invF_{};\n   \
    \ constexpr bool need(usize n) const noexcept {\n        return n_ <= n;\n   \
    \ }\n    void expand(usize n) {\n        F_.reserve(n + 1);\n        inv_.reserve(n\
    \ + 1);\n        invF_.reserve(n + 1);\n        for (usize i{n_} ; i <= n ; i++)\
    \ {\n            F_.emplace_back(F_.back() * Value{i});\n            inv_.emplace_back(MOD\
    \ - inv_[MOD % i] * (MOD / i));\n            invF_.emplace_back(invF_.back() *\
    \ inv_.back());\n        }\n        n_ = n + 1;\n    }\npublic:\n    constexpr\
    \ usize size() const noexcept {\n        return n_;\n    }\n    BinomalCoefficients()\
    \ \n        : n_{2u}, F_{Value::raw(1), Value::raw(1)}, inv_{Value{}, Value::raw(1)},\
    \ \n        invF_{Value::raw(1), Value::raw(1)} {}\n    BinomalCoefficients(usize\
    \ n) \n        : n_{2u}, F_{Value::raw(1), Value::raw(1)}, inv_{Value{}, Value::raw(1)},\
    \ \n        invF_{Value::raw(1), Value::raw(1)} {\n        assert(n);\n      \
    \  if (need(n)) expand(n);\n    }\n    Value F(i32 n) {\n        if (need(std::abs(n)))\
    \ expand(static_cast<usize>(std::abs(n)));\n        return (n >= 0 ? F_[n] : invF_[-n]);\n\
    \    }\n    Value P(i32 p, i32 q) {\n        if (q > p) return Value{}; \n   \
    \     return F(p) * F(q - p);\n    }\n    Value C(i32 p, i32 q) {\n        if\
    \ (q > p) return Value{};\n        return P(p, q) * F(-q);\n    }\n    Value H(i32\
    \ p, i32 q) {\n        if (p == 0 and q == 0) return Value::raw(1);\n        return\
    \ C(p + q - 1, q);\n    }\n    Value B(const std::vector<i32>& b) {\n        Value\
    \ res{1};\n        i32 sum{};\n        for (i32 x : b) {\n            res *= F(-x);\n\
    \            sum += x;\n        }\n        res *= F(sum);\n        return res;\n\
    \    }\n};\n\n} // namespace zawa\n#line 5 \"Test/yukicoder/117.test.cpp\"\n\n\
    #line 7 \"Test/yukicoder/117.test.cpp\"\n#include <tuple>\nusing namespace zawa;\n\
    \n/*\n * yukicoder No.117 \u7D44\u307F\u5408\u308F\u305B\u306E\u6570\n * https://yukicoder.me/submissions/957921\n\
    \ */\n\nstd::tuple<char, int, int> parse() {\n    std::string s; std::cin >> s;\n\
    \    char c{s[0]};\n    int i{2};\n    int p{};\n    for (; s[i] != ',' ; i++)\
    \ {\n        p = (p * 10) + (s[i] - '0');\n    }\n    int q{};\n    for (i++ ;\
    \ s[i] != ')' ; i++) {\n        q = (q * 10) + (s[i] - '0');\n    }\n    return\
    \ { c, p, q };\n}\n\nvoid solve() {\n    int t; std::cin >> t;\n    BinomalCoefficients<1000000007>\
    \ comb(1000000);\n    for (int _{} ; _ < t ; _++) {\n        auto [c, p, q]{parse()};\
    \ \n        if (c == 'C') std::cout << comb.C(p, q).val() << '\\n';\n        else\
    \ if (c == 'P') std::cout << comb.P(p, q).val() << '\\n';\n        else std::cout\
    \ << comb.H(p, q).val() << '\\n';\n    }\n}\n\nint main() {\n#ifdef ONLINE_JUDGE\n\
    \    solve();\n#else\n    std::cout << \"Hello World\" << '\\n';\n#endif\n}\n"
  code: "#define PROBLEM \"https://onlinejudge.u-aizu.ac.jp/courses/lesson/2/ITP1/1/ITP1_1_A\"\
    \n\n#include \"../../Src/Template/IOSetting.hpp\"\n#include \"../../Src/Number/BinomalCoefficients.hpp\"\
    \n\n#include <iostream>\n#include <tuple>\nusing namespace zawa;\n\n/*\n * yukicoder\
    \ No.117 \u7D44\u307F\u5408\u308F\u305B\u306E\u6570\n * https://yukicoder.me/submissions/957921\n\
    \ */\n\nstd::tuple<char, int, int> parse() {\n    std::string s; std::cin >> s;\n\
    \    char c{s[0]};\n    int i{2};\n    int p{};\n    for (; s[i] != ',' ; i++)\
    \ {\n        p = (p * 10) + (s[i] - '0');\n    }\n    int q{};\n    for (i++ ;\
    \ s[i] != ')' ; i++) {\n        q = (q * 10) + (s[i] - '0');\n    }\n    return\
    \ { c, p, q };\n}\n\nvoid solve() {\n    int t; std::cin >> t;\n    BinomalCoefficients<1000000007>\
    \ comb(1000000);\n    for (int _{} ; _ < t ; _++) {\n        auto [c, p, q]{parse()};\
    \ \n        if (c == 'C') std::cout << comb.C(p, q).val() << '\\n';\n        else\
    \ if (c == 'P') std::cout << comb.P(p, q).val() << '\\n';\n        else std::cout\
    \ << comb.H(p, q).val() << '\\n';\n    }\n}\n\nint main() {\n#ifdef ONLINE_JUDGE\n\
    \    solve();\n#else\n    std::cout << \"Hello World\" << '\\n';\n#endif\n}\n"
  dependsOn:
  - Src/Template/IOSetting.hpp
  - Src/Template/TypeAlias.hpp
  - Src/Number/BinomalCoefficients.hpp
  - ac-library/atcoder/internal_math.hpp
  - ac-library/atcoder/modint.hpp
  - ac-library/atcoder/internal_type_traits.hpp
  isVerificationFile: true
  path: Test/yukicoder/117.test.cpp
  requiredBy: []
  timestamp: '2024-03-06 21:16:01+09:00'
  verificationStatus: TEST_ACCEPTED
  verifiedWith: []
documentation_of: Test/yukicoder/117.test.cpp
layout: document
redirect_from:
- /verify/Test/yukicoder/117.test.cpp
- /verify/Test/yukicoder/117.test.cpp.html
title: Test/yukicoder/117.test.cpp
---
