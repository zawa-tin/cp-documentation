---
title: AOJ2334 街を駆ける道
documentation_of: //Test/AOJ/2334.test.cpp
---

トタタ族の$i$個目の街の座標を$P_{i}$、ツテテ族の$j$個目の街の座標を$Q_{j}$とする。二点$p, q$を端点とする線分を$(p, q)$と表記する。

線分$(P_{1}, P_{2})$と線分$(Q_{1}, Q_{2})$が交わらない場合、この二本を引くことで最短の長さで目的を達成できる。

そうでないとき、$P_{1}, P_{2}$を$(Q_{1}, Q_{2})$と交わらないようにつなぐ、あるいは$Q_{1}, Q_{2}$を$(P_{1}, P_{2})$と交わらないようにつなぐ必要がある。

前者の場合、$Q_{1}, Q_{2}$をつなぐのに線分$(Q_{1}, Q_{2})$を利用すれば良い。後者の場合、$P_{1}, P_{2}$をつなぐのに線分$(P_{1}, P_{2})$を用いれば良い。

結局のところどちらか一方は丁度一本の線分で街1と街2をつなぐとして良いことがわかった。一本の線分でつなぐ方を固定するともう一方は$N$頂点$O(N^2)$辺の単一始点最短経路問題を解くことになる。辺重みがすべて正であるため、ダイクストラ法を用いれば良い。
