---
title: 競プロ典型90問-040 Get More Money
documentation_of: //Test/Manual/typical90_an.test.cpp
---

各家に対して「入る・入らない」の二値を割当て、その得の最大化(後に損の最小化と言い換える)を目指す問題である。このような問題はProject Selection Problemと呼び、最小カットに帰着することが多いらしい。
- いわゆる燃やす埋める問題。

この問題で必要なテクを書き連ねておく。

1. 「 $W$ 払って家 $i$ に入って $A_{i}$ 円を得る」を「家 $i$ に入ると $A_{i} - W$ 円得る」と言い換える
2. $A_{i} - W$ は負になる可能性がある。最小カット(最大流)に帰着させたいのに負の容量が出現するのは困るので、下駄 $\text{INF}$ を履かせる 
3. そうすると「家に入ると $\text{INF} - W + A_{i}$ 円の損」「家に入らないと $\text{INF}$ 円の損」をすると言い換えられる。勝手に得が損になったので、最小化問題に変換したい問題も解決した

次に家 $i$ に入らないと家 $c_{ij}$ に入れないという制約を上手く記述したい
- [この問題](https://zawa-tin.github.io/cp-documentation/Test/Manual/kupc2016_e.test.cpp) のように「切っちゃだめならならば、容量無限大」を利用しよう

そうすると、 「家 $i$ に入らないかつ家 $c_{ij}$ に入ると無限大の損」と言い換えられる。

以上の $3$ つのパターンの制約の記述の仕方は親切な燃やす埋める問題の解説記事に書いてあるだろう。

履かせた下駄に関しては、無限大の容量の辺を切らない限り解に $N$ 回寄与しているので、最小カットから求めたい値もわかる。
