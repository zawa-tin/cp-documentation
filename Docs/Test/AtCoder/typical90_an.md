---
title: 競プロ典型90問-040 Get More Money
documentation_of: //Test/Manual/typical90_an.test.cpp
---

燃やす埋める

$x_{i} =$ 家 $i$ に入る時 $1$ 、家 $i$ に入らない時 $0$ とする。

$x_{i}$ の割り当て方によって以下の様に利得が発生する。

- $x_{i} = 1$ ならば、 $W - A_{i}$ 円の得
- $x_{i} = 0$ かつ $x_{c_{ij}} = 1$ ならば、 $-\infty$ 円の得(このような割り当ての禁止)
- $x_{1}, x_{2}, \dots, x_{n}$ に $01$ を上手く割り当てて得られるお金の総和を最大化したい

最小カットに帰着したいので、全て $-1$ 倍することで最小化問題を考えることにする。

- $x_{i} = 1$ ならば、 $-(W - A_{i})$ 円の損
- $x_{i} = 0$ かつ $x_{c_{ij}} = 1$ ならば、 $\infty$ 円の損(このような割り当ての禁止)
- $x_{1}, x_{2}, \dots, x_{n}$ に $01$ を上手く割り当てて損失するお金の総和を最小化したい

二番目の条件が $2$ 変数関数になっているので、劣モジュラ性を持つかを確認する必要がある。

| $i \\ c_{ij}$ | 0 | 1 |
| ---- | ---- | ---- |
| 0 | 0 | $\infty$ |
| 1 | 0 | 0 |


$i\ \lt\ j, x_{i} = 0, x_{j} = 1$ の数を $\text{cnt}$ として $S = (x_{1}, x_{2}, \dots, x_{n})$ $T = (x_{1}', x_{2}', \dots, x_{n}')$

$S\cap T, S\cup T$ との $\text{cnt}$ の変化を考えると、 $\text{cnt}(S) + \text{cnt}(T) = \text{cnt}(S\cap T) + \text{cnt}(S\cup T)$ なので劣モジュラ性が成り立っている。
